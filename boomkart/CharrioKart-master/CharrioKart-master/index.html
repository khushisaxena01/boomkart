<html>

<head>
    <title>Boom Kart</title>
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="icon" href="favicon.ico" type="image/gif" sizes="64x64 32x32 24x24 16x16">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="canonical">

    <meta name="description" content="Boom Kart">
    <meta name="keywords" content="GW2, guild wars 2, Boom, Game, Race, Racing">

    <meta property="og:title" content="Boom Kart" />
    <meta property="og:image" content="graphics/cards/boomkartimage.png" />
    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Boom Kart">
    <meta name="twitter:description" content="Fire up your engine and race around Tyria!">
    <meta name="twitter:image" content="graphics/cards/boomkartimage.png">

    <!-- PeerJS for multiplayer -->
    <script src="https://cdn.jsdelivr.net/npm/peerjs@1.5.2/dist/peerjs.min.js"></script>

    <link href="https://fonts.googleapis.com/css?family=VT323" rel="stylesheet">
    <link href="style.css" rel="stylesheet" />

    <script src="script/howler.min.js"></script>
    <script src="script/three.min.js"></script>
</head>

<body>

    <div id="mainMenu">
        <div id="menu_title" class="popup">
            <img src="graphics/cards/boomkartimage.png" onclick="javascript:showMenu('main')" />
        </div>

        <div id="menu_about" class="popup">
            <h3>Boom Kart</h3>
            <p>KIIT University Major Project, 2025</p>
            <p>Deepak Tiwari, Khushi Saxena, Khushbu Patra & Riddhima Agrawal</p>
            <p>
                Build with <a href="http://www.threejs.org" target="_blank">three.js </a>&amp; <a href="https://www.howlerjs.com/"
                    target="_blank">howler.js</a>
            </p>
            <img src="graphics/icons/cat.png" onclick="javascript:meow()" />
            <div class="menuButton" onclick="showMenu('main')">
                <-BACK
            </div>
        </div>

        <div id="menu_main" class="popup">
            <h2>BOOM KART</h2>
            <div class="menuButton" onclick="javascript:showMenu('racer')">
                <img src="graphics/icons/kart.png" />
                SELECT YOUR KART
            </div>

            <div class="menuButton" onclick="javascript:showMenu('multiplayer')">
                <img src="graphics/icons/kart.png" />
                MULTIPLAYER
            </div>
            <div class="menuButton" onclick="javascript:Leaderboard.showLapRecords()">
                <img src="graphics/icons/kart.png" />
                LAP RECORD
            </div>
            <div class="menuButton" onclick="javascript:showMenu('about')">
                <img src="graphics/icons/about.png" />
                ABOUT
            </div>
            <div class="menuButton" onclick="javascript:showMenu('settings')">
                <img src="graphics/icons/settings.png" />
                SETTINGS
            </div>

            <!-- Best Lap Times Display -->
            <div id="bestTimesDisplay" style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.5); border-radius: 5px; text-align: center;">
                <h4 style="margin: 0 0 10px 0; color: #ffdd44;">🏆 BEST LAP TIMES</h4>
                <div style="display: flex; justify-content: space-around; font-size: 14px;">
                    <div>
                        <div style="color: #00ff00; font-weight: bold;">1 LAP</div>
                        <div id="bestTime1" style="color: #ffffff;">--:--</div>
                    </div>
                    <div>
                        <div style="color: #00ff00; font-weight: bold;">2 LAPS</div>
                        <div id="bestTime2" style="color: #ffffff;">--:--</div>
                    </div>
                    <div>
                        <div style="color: #00ff00; font-weight: bold;">3 LAPS</div>
                        <div id="bestTime3" style="color: #ffffff;">--:--</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="menu_settings" class="popup">
            <h2>SETTINGS</h2>
            <div class="menuButton" onclick="javascript:toggleVolume()">
                <img src="graphics/icons/sound.png" />
                <span id="volume_1">SOUNDS (all)</span>
            </div>
            <div class="menuButton" onclick="javascript:toggleFullscreen()">
                <img src="graphics/icons/fullscreen.png" />
                TOGGLE FULLSCREEN
            </div>
            <div class="menuButton" onclick="javascript:showMenu('main')">
                <- BACK
            </div>
        </div>

        <div id="menu_racer" class="popup">
            <h2>SELECT YOUR KART</h2>
            <div class="menuButton secret" onclick="javascript:setRacer('taimi')" style="display: none; color: #ffd800">
                <img src="graphics/icons/taimi.png" />
                TAIMI
            </div>
            <div class="menuButton" onclick="javascript:setRacer('kartA')">
                <img src="graphics/icons/kartA.png" />
                EASY:&nbsp;&nbsp; YESTERMOBILE MARK 7
            </div>
            <div class="menuButton" onclick="javascript:setRacer('kartB')">
                <img src="graphics/icons/kartB.png" />
                MEDIUM: CENTURION 2B-1G
            </div>
            <div class="menuButton" onclick="javascript:setRacer('kartC')">
                <img src="graphics/icons/kartC.png" />
                HARD:&nbsp;&nbsp; SALT MACHINE 2000
            </div>
            <div class="menuButton" onclick="javascript:showMenu('main')">
                <- BACK
            </div>
        </div>

        <div id="menu_track" class="popup">
            <h2>SELECT A LOCATION</h2>
            <div class="menuButton secret" onclick="selectTrack('inquest')">
                <img src="graphics/icons/trackMaguuma.png" />
                Inquest Base
            </div>
            <div class="menuButton" onclick="selectTrack('ascalon')">
                <img src="graphics/icons/trackAscalon.png" />
                Ascalon
            </div>
            <div class="menuButton" onclick="selectTrack('kryta')">
                <img src="graphics/icons/trackKryta.png" />
                Kryta
            </div>
            <div class="menuButton" onclick="selectTrack('shiverpeak')">
                <img src="graphics/icons/trackShiverpeaks.png" />
                Shiverpeaks
            </div>
            <div class="menuButton" onclick="selectTrack('southsun')">
                <img src="graphics/icons/trackSouthsun.png" />
                Southsun
            </div>

            <div class="menuButton" onclick="selectTrack('mists')">
                <img src="graphics/icons/trackMists.png" />
                The Mists
            </div>
            <div class="menuButton" onclick="showMenu('racer')"><- BACK</div>
        </div>

        <div id="menu_laps" class="popup">
            <h2>SELECT NUMBER OF LAPS</h2>
            <div class="menuButton" onclick="selectLaps(1)">
                <img src="graphics/icons/kart.png" />
                1 LAP
            </div>
            <div class="menuButton" onclick="selectLaps(2)">
                <img src="graphics/icons/kart.png" />
                2 LAPS
            </div>
            <div class="menuButton" onclick="selectLaps(3)">
                <img src="graphics/icons/kart.png" />
                3 LAPS
            </div>
            <div class="menuButton" onclick="showMenu('track')"><- BACK</div>
        </div>

        <!-- MULTIPLAYER MENUS -->
        <div id="menu_multiplayer" class="popup">
            <h2>MULTIPLAYER</h2>
            <div class="menuButton" onclick="javascript:showMultiplayerCreate()">
                <img src="graphics/icons/kart.png" />
                CREATE ROOM
            </div>
            <div class="menuButton" onclick="javascript:showMultiplayerJoin()">
                <img src="graphics/icons/kart.png" />
                JOIN ROOM
            </div>
            <div class="menuButton" onclick="javascript:Leaderboard.showMultiplayerLeaderboard()">
                <img src="graphics/icons/kart.png" />
                MULTIPLAYER LEADERBOARD
            </div>
            <div class="menuButton" onclick="showMenu('main')">
                <- BACK
            </div>
        </div>

        <div id="menu_multiplayer_create" class="popup">
            <h2>CREATE ROOM</h2>
            <p style="text-align: center; font-size: 4vmin;">
                Room Code: <span id="roomCode" style="color: #ffd800; font-size: 6vmin;">----</span>
            </p>
            <p style="text-align: center; font-size: 4vmin;">
                Waiting for player 2...
            </p>
            <div id="playerList" style="text-align: center; margin: 20px 0; font-size: 4vmin;">
                <div>Player 1 (You): <span id="player1Name" style="color: #00ff00;">Ready</span></div>
                <div>Player 2: <span id="player2Name" style="color: #ff6600;">Waiting...</span></div>
            </div>
            <div class="menuButton" onclick="javascript:cancelMultiplayer()">
                CANCEL
            </div>
        </div>

        <div id="menu_multiplayer_join" class="popup">
            <h2>JOIN ROOM</h2>
            <p style="text-align: center; font-size: 4vmin;">
                Enter Room Code:
            </p>
            <div style="text-align: center; margin: 20px 0;">
                <input type="text" id="roomCodeInput" 
                       style="font-family: 'VT323', monospace; 
                              font-size: 6vmin; 
                              padding: 10px; 
                              text-align: center; 
                              text-transform: uppercase;
                              background: #000;
                              color: #ffd800;
                              border: 2px solid #ffd800;
                              width: 200px;"
                       maxlength="8"
                       placeholder="XXXXXX" />
            </div>
            <div class="menuButton" onclick="javascript:attemptJoinRoom()">
                <img src="graphics/icons/kart.png" />
                JOIN GAME
            </div>
            <div class="menuButton" onclick="showMenu('multiplayer')">
                <- BACK
            </div>
        </div>

        <div id="menu_multiplayer_lobby" class="popup">
            <h2>MULTIPLAYER LOBBY</h2>
            <p style="text-align: center; font-size: 4vmin;">
                Room: <span id="lobbyRoomCode" style="color: #ffd800;">----</span>
            </p>
            <div id="lobbyPlayerList" style="text-align: center; margin: 20px 0; font-size: 4vmin;">
            </div>
            <div id="hostControls" style="display: none;">
                <h3 style="text-align: center;">Select Track:</h3>
                <div class="menuButton" onclick="startMultiplayerGame('ascalon')">
                    <img src="graphics/icons/trackAscalon.png" />
                    Ascalon
                </div>
                <div class="menuButton" onclick="startMultiplayerGame('kryta')">
                    <img src="graphics/icons/trackKryta.png" />
                    Kryta
                </div>
                <div class="menuButton" onclick="startMultiplayerGame('shiverpeak')">
                    <img src="graphics/icons/trackShiverpeaks.png" />
                    Shiverpeaks
                </div>
                <div class="menuButton" onclick="startMultiplayerGame('southsun')">
                    <img src="graphics/icons/trackSouthsun.png" />
                    Southsun
                </div>
                <div class="menuButton" onclick="startMultiplayerGame('mists')">
                    <img src="graphics/icons/trackMists.png" />
                    The Mists
                </div>
            </div>
            <div id="guestWaiting" style="display: none; text-align: center; margin: 20px 0; font-size: 4vmin;">
                Waiting for host to start...
            </div>
            <div class="menuButton" onclick="javascript:cancelMultiplayer()">
                LEAVE ROOM
            </div>
        </div>

        <div id="menu_leaderboard" class="popup">
            <!-- Leaderboard content will be populated by JavaScript -->
        </div>

        <div id="menu_leaderboard_laps" class="popup">
            <!-- Lap records content will be populated by JavaScript -->
        </div>

        <div id="menu_multiplayer_leaderboard" class="popup">
            <!-- Multiplayer leaderboard content will be populated by JavaScript -->
        </div>

        <div id="menu_gameover" class="popup">
            <h2>GAME OVER</h2>
            <div id="gameover_content">
                <!-- Game over content will be populated by JavaScript -->
            </div>
        </div>

    </div>

    <div id="UI">
        <div id="pauseButton" onclick="javascript:pause()">
            <img src="graphics/pause.png" />
        </div>
        <div id="timerTop"><span id="timeCurrent">0.00</span></div>
        <div id="timerBottom">LAP: <span id="currentLap">0000</span> LAST: <span id="timeLast">00.00</span> BEST: <span id="timeBest">00.00</span></div>

        <div id="gameMenu">
            <div class="gameMenuPopup">
                <h2>PAUSED</h2>
                <div class="menuButton" onclick="javascript:unpause()" id="resume">
                    <img src="graphics/icons/kart.png" />
                    RESUME RACING
                </div>
                <div class="menuButton" onclick="javascript:toggleVolume()">
                    <img src="graphics/icons/sound.png" />
                    <span id="volume_2">SOUNDS (all)</span>
                </div>
                <div class="menuButton" onclick="javascript:toggleFullscreen()">
                    <img src="graphics/icons/fullscreen.png" />
                    TOGGLE FULLSCREEN
                </div>
                <div class="menuButton" onclick="javascript:unloadTrack()">
                    <- BACK
                </div>
            </div>
        </div>

        <div id="touch">
            <div id="left" class="touchButton">
                <img src="graphics/left.png" />
            </div>
            <div id="right" class="touchButton">
                <img src="graphics/right.png" />
            </div>
            <div id="aButton" class="touchButton">
                <img src="graphics/aButton.png" />
            </div>
            <div id="bButton" class="touchButton">
                <img src="graphics/bButton.png" />
            </div>

        </div>
        <div id="loading">[LOADING]</div>
    </div>

    <!-- required includes -->
    <script src="app/input.js"></script>
    <script src="app/sfx.js"></script>
    <script src="app/racers.js"></script>
    <script src="app/track.js"></script>
    <script src="app/leaderboard.js"></script>
    <script src="app/main.js"></script>

    <script src="app/effects/particles.js"></script>
    <script src="app/effects/lighting.js"></script>

    <script src="app/multiplayer.js"></script>
    <script src="app/multiplayer-integration.js"></script>

</body>

</html>
